private static HashSet<String> discoverLinksRecursively(WebClient webClient, String url, HashSet<String> foundLinks) {

	try {
		HtmlPage page = webClient.getPage(url);
		List<HtmlAnchor> links = page.getAnchors();
		for (HtmlAnchor link : links) {
			String nextURL = link.getBaseURI();
			if (!foundLinks.contains(nextURL)) {
				foundLinks.add(nextURL);
				System.out.println("[" + link.asText() + "] "
					+ link.getHrefAttribute());
				foundLinks = discoverLinksRecursively(webClient, nextURL, foundLinks)
			}
		}

	} catch (FailingHttpStatusCodeException | IOException e) {}
	
	return foundLinks;
}

/**
	 * This code is for showing how you can get all the links on a given page,
	 * and visit a given URL
	 * 
	 * @param webClient
	 * @throws IOException
	 * @throws MalformedURLException
	 */
	private static void discoverLinks(WebClient webClient, String url) {

		System.out.println("--------------------------------------");
		System.out.println("Discovering links...");
		System.out.println("--------------------------------------");
			
		HashSet<String> links = discoverLinksRecursively(webClient, url, new HashSet<String());
	}